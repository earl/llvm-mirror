# RUN: llvm-mc -triple=aarch64 -mattr=+mte   -disassemble < %s | FileCheck %s
# RUN: llvm-mc -triple=aarch64 -mattr=+v8.5a -disassemble < %s | FileCheck %s --check-prefix=NOMTE
# RUN: llvm-mc -triple=aarch64 -mattr=-mte   -disassemble < %s | FileCheck %s --check-prefix=NOMTE

[0x60,0x76,0x08,0xd5]
[0x81,0x76,0x08,0xd5]
[0x82,0x7a,0x08,0xd5]
[0x83,0x7e,0x08,0xd5]
[0x64,0x7a,0x0b,0xd5]
[0x65,0x7c,0x0b,0xd5]
[0x66,0x7d,0x0b,0xd5]
[0x67,0x7e,0x0b,0xd5]
[0x68,0x74,0x0b,0xd5]
[0xa9,0x76,0x08,0xd5]
[0xca,0x76,0x08,0xd5]
[0xcb,0x7a,0x08,0xd5]
[0xcc,0x7e,0x08,0xd5]
[0xad,0x7a,0x0b,0xd5]
[0xae,0x7c,0x0b,0xd5]
[0xaf,0x7d,0x0b,0xd5]
[0xb0,0x7e,0x0b,0xd5]
[0x91,0x74,0x0b,0xd5]

# CHECK: dc igvac, x0
# CHECK: dc igsw, x1
# CHECK: dc cgsw, x2
# CHECK: dc cigsw, x3
# CHECK: dc cgvac, x4
# CHECK: dc cgvap, x5
# CHECK: dc cgvadp, x6
# CHECK: dc cigvac, x7
# CHECK: dc gva, x8
# CHECK: dc igdvac, x9
# CHECK: dc igdsw, x10
# CHECK: dc cgdsw, x11
# CHECK: dc cigdsw, x12
# CHECK: dc cgdvac, x13
# CHECK: dc cgdvap, x14
# CHECK: dc cgdvadp, x15
# CHECK: dc cigdvac, x16
# CHECK: dc gzva, x17

# NOMTE: sys #0, c7, c6, #3, x0
# NOMTE: sys #0, c7, c6, #4, x1
# NOMTE: sys #0, c7, c10, #4, x2
# NOMTE: sys #0, c7, c14, #4, x3
# NOMTE: sys #3, c7, c10, #3, x4
# NOMTE: sys #3, c7, c12, #3, x5
# NOMTE: sys #3, c7, c13, #3, x6
# NOMTE: sys #3, c7, c14, #3, x7
# NOMTE: sys #3, c7, c4, #3, x8
# NOMTE: sys #0, c7, c6, #5, x9
# NOMTE: sys #0, c7, c6, #6, x10
# NOMTE: sys #0, c7, c10, #6, x11
# NOMTE: sys #0, c7, c14, #6, x12
# NOMTE: sys #3, c7, c10, #5, x13
# NOMTE: sys #3, c7, c12, #5, x14
# NOMTE: sys #3, c7, c13, #5, x15
# NOMTE: sys #3, c7, c14, #5, x16
# NOMTE: sys #3, c7, c4, #4, x17

[0xe0,0x42,0x3b,0xd5]
[0xc1,0x10,0x38,0xd5]
[0xa2,0x10,0x38,0xd5]
[0x03,0x65,0x38,0xd5]
[0x04,0x65,0x3c,0xd5]
[0x05,0x66,0x3e,0xd5]
[0x06,0x66,0x3d,0xd5]
[0x27,0x66,0x38,0xd5]

# CHECK: mrs x0, TCO
# CHECK: mrs x1, GCR_EL1
# CHECK: mrs x2, RGSR_EL1
# CHECK: mrs x3, TFSR_EL1
# CHECK: mrs x4, TFSR_EL2
# CHECK: mrs x5, TFSR_EL3
# CHECK: mrs x6, TFSR_EL12
# CHECK: mrs x7, TFSRE0_EL1

[0x9f,0x40,0x03,0xd5]

# CHECK: msr TCO, #0

[0xe0,0x42,0x1b,0xd5]
[0xc1,0x10,0x18,0xd5]
[0xa2,0x10,0x18,0xd5]
[0x03,0x65,0x18,0xd5]
[0x04,0x65,0x1c,0xd5]
[0x05,0x66,0x1e,0xd5]
[0x06,0x66,0x1d,0xd5]
[0x27,0x66,0x18,0xd5]

# CHECK: msr TCO, x0
# CHECK: msr GCR_EL1, x1
# CHECK: msr RGSR_EL1, x2
# CHECK: msr TFSR_EL1, x3
# CHECK: msr TFSR_EL2, x4
# CHECK: msr TFSR_EL3, x5
# CHECK: msr TFSR_EL12, x6
# CHECK: msr TFSRE0_EL1, x7
