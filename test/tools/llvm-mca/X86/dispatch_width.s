# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=0 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=1 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=CUSTOM %s

add %eax, %eax

# CUSTOM:      Iterations:     100
# CUSTOM-NEXT: Instructions:   100
# CUSTOM-NEXT: Total Cycles:   103
# CUSTOM-NEXT: Dispatch Width: 1
# CUSTOM-NEXT: IPC:            0.97

# DEFAULT:      Iterations:     100
# DEFAULT-NEXT: Instructions:   100
# DEFAULT-NEXT: Total Cycles:   103
# DEFAULT-NEXT: Dispatch Width: 2
# DEFAULT-NEXT: IPC:            0.97

